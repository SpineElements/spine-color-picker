<link rel="import" href="../polymer/polymer-element.html">
<link rel="import" href="../paper-icon-button/paper-icon-button.html">
<link rel="import" href="../iron-icons/editor-icons.html">

<link rel="import" href="./spine-color-picker-light.html">

<!--
 An element to hold the color set and provide selection between them. By default contains the
 Material colors set. Behaves as a simple icon button with a drop down content.

 Example:
 ```
    <spine-color-picker value="{{selectedColor}}"></spine-color-picker>
 ```

 ### Styling

 See `SpineColorPickerLight` for a full list of custom properties used to style this element.

 The following custom properties and mixins are available for styling:

 Custom property | Description | Default
 ----------------|-------------|----------
 `--spine-color-picker-trigger` | Mixin applied to the dropdown trigger | {}
-->
<dom-module id="spine-color-picker">
    <template>
        <style>
            :host {
                display: inline-block;
            }

            paper-icon-button {
                @apply --spine-color-picker-trigger;
            }
        </style>

        <spine-color-picker-light value="{{value}}" colors="[[colors]]">
            <paper-icon-button disabled="[[disabled]]"
                               icon="editor:format-color-fill">
            </paper-icon-button>
        </spine-color-picker-light>
    </template>

    <script>{
        class SpineColorPicker extends Polymer.Element {
            static get is() {
                return 'spine-color-picker';
            }

            static get properties() {
                /**
                 * Fired when color item is selected.
                 *
                 * @event spine-color-picker-select
                 * @param {string} value Selected color
                 */

                return {
                    /**
                     * The selected value.
                     */
                    value: {
                        type: String,
                        notify: true
                    },

                    /**
                     * The colors set to display as the popup content. The Material colors is used
                     * as a default value. Expected type is a two dimensional array of CSS hex or
                     * rgb colors. Each array represents one displayed row.
                     */
                    colors: Object
                };
            }
        }

        window.customElements.define(SpineColorPicker.is, SpineColorPicker);
    }</script>
</dom-module>
